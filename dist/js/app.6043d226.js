(function(){var t={6700:function(t,e,a){var s={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function o(t){var e=l(t);return a(e)}function l(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}o.keys=function(){return Object.keys(s)},o.resolve=l,t.exports=o,o.id=6700},4999:function(t,e,a){"use strict";var s=a(9242),o=a(3396);const l={id:"app",class:"container-fluid"},r=(0,o._)("div",{class:"welcome-margin"},null,-1);function n(t,e,a,s,n,i){const d=(0,o.up)("welcome-navbar"),c=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",l,[(0,o.Wm)(d),r,(0,o.Wm)(c)])}const i={class:"navbar fixed-top navbar-expand-lg bg-info"},d={class:"container-fluid"},c=(0,o._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,o._)("span",{class:"navbar-toggler-icon"})],-1),u={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},p={class:"navbar-nav"};function m(t,e,a,s,l,r){const n=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("nav",i,[(0,o._)("div",d,[(0,o.Wm)(n,{to:"/",class:"navbar-brand fw-bold"},{default:(0,o.w5)((()=>[(0,o.Uk)("Home")])),_:1}),c,(0,o._)("div",u,[(0,o._)("div",p,[(0,o.Wm)(n,{to:"/clients",class:"nav-link welcome-nav-link"},{default:(0,o.w5)((()=>[(0,o.Uk)("Clients")])),_:1}),(0,o.Wm)(n,{to:"/products",class:"nav-link welcome-nav-link"},{default:(0,o.w5)((()=>[(0,o.Uk)("Products")])),_:1}),(0,o.Wm)(n,{to:"/sales",class:"nav-link welcome-nav-link"},{default:(0,o.w5)((()=>[(0,o.Uk)("Sales")])),_:1})])])])])}var h={},b=a(89);const v=(0,b.Z)(h,[["render",m]]);var g=v,_={name:"App",components:{"welcome-navbar":g}};const y=(0,b.Z)(_,[["render",n]]);var f=y,w=(a(5654),a(4677)),k=(a(343),a(2483));const j={class:"index"},x=(0,o._)("div",{class:"row text-center mt-2"},[(0,o._)("div",{class:"col-md-6 offset-md-3"},[(0,o._)("h1",null,[(0,o._)("strong",null,"Welcome!")]),(0,o._)("p",null,"Choose one option below:")])],-1),C={class:"row"},F={class:"col-md-6 offset-md-3"};function S(t,e,a,s,l,r){const n=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",j,[x,(0,o._)("div",C,[(0,o._)("div",F,[(0,o.Wm)(n,{to:"/clients",class:"btn btn-info w-100 mb-3 fw-bold"},{default:(0,o.w5)((()=>[(0,o.Uk)("Clients")])),_:1}),(0,o.Wm)(n,{to:"/products",class:"btn btn-info w-100 mb-3 fw-bold"},{default:(0,o.w5)((()=>[(0,o.Uk)("Products")])),_:1}),(0,o.Wm)(n,{to:"/sales",class:"btn btn-info w-100 mb-3 fw-bold"},{default:(0,o.w5)((()=>[(0,o.Uk)("Sales")])),_:1})])])])}var D={name:"WelcomeIndex"};const P=(0,b.Z)(D,[["render",S]]);var M=P,z=a(7139);const T=(0,o._)("h1",{class:"text-center mb-3 mt-3 strong"},"Clients",-1),U={class:"row"},q={class:"col-md-10 offset-md-1"},B={class:"table table-striped table-hover table-bordered"},N=(0,o._)("thead",null,[(0,o._)("tr",{class:"text-center"},[(0,o._)("th",{class:"col-md-1"},"ID"),(0,o._)("th",{class:"col-md-3"},"Name"),(0,o._)("th",{class:"col-md-3"},"Email"),(0,o._)("th",{class:"col-md-3"},"Birth date"),(0,o._)("th",{colspan:"2",class:"col-md-3"},"Action")])],-1),W={class:"text-center"},E=["onClick"],Y=["onClick"],I=["onClick"];function V(t,e,a,s,l,r){const n=(0,o.up)("router-link"),i=(0,o.up)("client-form"),d=(0,o.up)("destroy-modal");return(0,o.wg)(),(0,o.iD)("div",null,[T,(0,o._)("div",U,[(0,o._)("div",q,[(0,o._)("table",B,[N,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.clients,(t=>((0,o.wg)(),(0,o.iD)("tr",{key:t.id,class:"text-center align-middle"},[(0,o._)("td",null,(0,z.zw)(t.id),1),(0,o._)("td",null,(0,z.zw)(t.name),1),(0,o._)("td",null,(0,z.zw)(t.email),1),(0,o._)("td",null,(0,z.zw)(r.moment(t.birth_date)),1),(0,o._)("td",W,[(0,o._)("button",{class:"btn btn-info me-2",onClick:e=>r.setClientForm("Client",t,"show"),"data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"},"Show",8,E),(0,o._)("button",{class:"btn btn-warning me-2",onClick:e=>r.setClientForm("Edit Client",t,"edit"),"data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"},"Edit",8,Y),(0,o._)("button",{class:"btn btn-danger",onClick:e=>r.setDestroyClient("Destroy Client?",t,"client"),"data-bs-toggle":"modal","data-bs-target":"#destroyModal"},"Destroy",8,I)])])))),128))])]),(0,o._)("button",{class:"btn btn-success me-2 float-end",onClick:e[0]||(e[0]=t=>r.setClientForm("New Client","","create")),"data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"},"New Client"),(0,o.Wm)(n,{to:"/",class:"btn btn-secondary float-start"},{default:(0,o.w5)((()=>[(0,o.Uk)("Back")])),_:1})])]),(0,o.Wm)(i,{clientForm:l.clientForm},null,8,["clientForm"]),(0,o.Wm)(d,{destroyModel:l.destroyClient},null,8,["destroyModel"])])}var $=a(70);const O=$.ZP.create({baseURL:"https://albertofelisberto-web.maxstudio.com.br/api"});var Z=O,L=a(6797),A=a.n(L);const Q={class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},R={class:"modal-dialog"},H={class:"modal-content"},K={class:"modal-header text-center"},G={class:"modal-title fs-5 text-center",id:"staticBackdropLabel"},J=(0,o._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),X={class:"modal-body"},tt={key:0,class:"input-group mb-2"},et=(0,o._)("span",{class:"input-group-text fw-bold"},"ID",-1),at=["value"],st={class:"input-group mb-2"},ot=(0,o._)("span",{class:"input-group-text"},"Name",-1),lt=["value"],rt={class:"input-group mb-2"},nt=(0,o._)("span",{class:"input-group-text"},"Email",-1),it=["value"],dt={class:"input-group mb-2"},ct=(0,o._)("span",{class:"input-group-text"},"Birth date",-1),ut=["value"],pt={key:1,class:"input-group mb-2"},mt=(0,o._)("span",{class:"input-group-text"},"Created at",-1),ht=["value"],bt={key:2,class:"input-group mb-3"},vt=(0,o._)("span",{class:"input-group-text"},"Updated at",-1),gt=["value"],_t={class:"modal-footer"},yt=(0,o._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1);function ft(t,e,a,l,r,n){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",Q,[(0,o._)("div",R,[(0,o._)("div",H,[(0,o._)("div",K,[(0,o._)("h1",G,(0,z.zw)(a.clientForm.modalTitle),1),J]),(0,o._)("div",X,["show"==a.clientForm.operation?((0,o.wg)(),(0,o.iD)("div",tt,[et,(0,o._)("input",{type:"text",class:"form-control",value:a.clientForm.client.id,disabled:""},null,8,at)])):(0,o.kq)("",!0),(0,o._)("div",st,[ot,"show"==a.clientForm.operation?((0,o.wg)(),(0,o.iD)("input",{key:0,type:"text",class:"form-control",value:a.clientForm.client.name,disabled:""},null,8,lt)):(0,o.kq)("",!0),"edit"==a.clientForm.operation||"create"==a.clientForm.operation?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:1,type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>r.name=t),onBlur:e[1]||(e[1]=t=>n.validateClientName())},null,544)),[[s.nr,r.name]]):(0,o.kq)("",!0)]),(0,o._)("div",rt,[nt,"show"==a.clientForm.operation?((0,o.wg)(),(0,o.iD)("input",{key:0,type:"text",class:"form-control",value:a.clientForm.client.email,disabled:""},null,8,it)):(0,o.kq)("",!0),"edit"==a.clientForm.operation||"create"==a.clientForm.operation?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:1,type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=t=>r.email=t)},null,512)),[[s.nr,r.email]]):(0,o.kq)("",!0)]),(0,o._)("div",dt,[ct,"show"==a.clientForm.operation?((0,o.wg)(),(0,o.iD)("input",{key:0,type:"text",class:"form-control",value:n.moment(a.clientForm.client.birth_date),disabled:""},null,8,ut)):(0,o.kq)("",!0),"edit"==a.clientForm.operation||"create"==a.clientForm.operation?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:1,type:"date",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=t=>r.birth_date=t)},null,512)),[[s.nr,r.birth_date]]):(0,o.kq)("",!0)]),"show"==a.clientForm.operation?((0,o.wg)(),(0,o.iD)("div",pt,[mt,(0,o._)("input",{type:"text",class:"form-control",value:n.momentComplex(a.clientForm.client.created_at),disabled:""},null,8,ht)])):(0,o.kq)("",!0),"show"==a.clientForm.operation?((0,o.wg)(),(0,o.iD)("div",bt,[vt,(0,o._)("input",{type:"text",class:"form-control",value:n.momentComplex(a.clientForm.client.updated_at),disabled:""},null,8,gt)])):(0,o.kq)("",!0)]),(0,o._)("div",_t,[yt,"edit"==a.clientForm.operation||"create"==a.clientForm.operation?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",class:"btn btn-success",onClick:e[4]||(e[4]=t=>"edit"==a.clientForm.operation?n.updateClient():"create"==a.clientForm.operation?n.postClient():"")},(0,z.zw)("edit"==a.clientForm.operation?"Update":"create"==a.clientForm.operation?"Create":""),1)):(0,o.kq)("",!0)])])])])])}var wt={setup(){const t=(0,w.pm)();return{toast:t}},data(){return{name:"",email:"",birth_date:""}},props:["clientForm"],watch:{clientForm:{deep:!0,handler:function(t){this.name=t.client.name,this.email=t.client.email,this.birth_date=t.client.birth_date}}},methods:{postClient(){if(!this.validateClientName()||!this.validateClientEmail()||!this.validateClientBirthDate())return this.toast.error("Check client fields values and try again!"),!1;const t={name:this.name,email:this.email,birth_date:this.birth_date};Z.post("/clients",t).then((()=>{this.toast.success("Client created!"),setTimeout((()=>this.$router.go()),1e3)})).catch((()=>{this.toast.error("There was an error when tryed to create the client!")}))},updateClient(){if(!this.validateClientName()||!this.validateClientEmail()||!this.validateClientBirthDate())return this.toast.error("Check client fields values and try again!"),!1;const t={name:this.name,email:this.email,birth_date:this.birth_date};Z.put("/clients/"+this.clientForm.client.id,t).then((()=>{this.toast.success("Client updated!"),setTimeout((()=>this.$router.go()),1e3)})).catch((()=>{this.toast.error("There was an error when tryed to update the client!")}))},validateClientName(){if(void 0==this.name||""==this.name)return this.toast.warning("Client name can't be empty!"),!1;const t=new RegExp("([A-zãõ]+)","g");return t.test(this.name)?(this.name=this.name.match(t).toString().replaceAll(","," "),!(this.name.replaceAll(" ","").length<=3)||(this.toast.warning("Client name must be more then 3 characters!"),!1)):(this.toast.warning("Invalid client name!"),!1)},validateClientEmail(){if(void 0==this.email||""==this.email)return this.toast.warning("Client email can't be empty!"),!1;const t=new RegExp("^[a-z0-9_]{1,}@{1}[a-z]{1,}[.]{1}[a-z]{1,}[.]{0,1}[a-z]{1,}$");return!!t.test(this.email)||(this.toast.warning("Invalid client email!"),!1)},validateClientBirthDate(){return A()(this.birth_date).isValid()||""==this.birth_date?!(A()(this.birth_date).year()>2020||A()(this.birth_date).year()<1900)||void 0==this.birth_date||""==this.birth_date||(this.toast.warning("Invalid client birth date year! Must be less then 2021"),!1):(this.toast.warning("Invalid client birth date format!"),!1)},moment(t){return A()(t).isValid()?A()(t).format("DD/MM/YYYY"):""},momentComplex(t){return A()(t).format("DD/MM/YYYY hh:mm:ss a")}}};const kt=(0,b.Z)(wt,[["render",ft]]);var jt=kt;const xt={class:"modal fade",id:"destroyModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ct={class:"modal-dialog"},Ft={class:"modal-content"},St={class:"modal-header"},Dt={class:"modal-title fs-5",id:"staticBackdropLabel"},Pt=(0,o._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Mt={class:"modal-body"},zt={key:0},Tt={class:"input-group mb-2"},Ut=(0,o._)("span",{class:"input-group-text"},"Name",-1),qt=["value"],Bt={class:"input-group"},Nt=(0,o._)("span",{class:"input-group-text"},"Email",-1),Wt=["value"],Et={key:1},Yt={class:"input-group mb-2"},It=(0,o._)("span",{class:"input-group-text"},"Name",-1),Vt=["value"],$t={class:"input-group"},Ot=(0,o._)("span",{class:"input-group-text"},"Price",-1),Zt=["value"],Lt={key:2},At={class:"input-group mb-2"},Qt=(0,o._)("span",{class:"input-group-text"},"Sale ID",-1),Rt=["value"],Ht={class:"input-group mb-2"},Kt=(0,o._)("span",{class:"input-group-text"},"Sale Client",-1),Gt=["value"],Jt={class:"input-group"},Xt=(0,o._)("span",{class:"input-group-text"},"Sale Product",-1),te=["value"],ee={class:"modal-footer"},ae=(0,o._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1);function se(t,e,a,s,l,r){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",xt,[(0,o._)("div",Ct,[(0,o._)("div",Ft,[(0,o._)("div",St,[(0,o._)("h1",Dt,(0,z.zw)(a.destroyModel.modalTitle),1),Pt]),(0,o._)("div",Mt,["client"==a.destroyModel.entity?((0,o.wg)(),(0,o.iD)("div",zt,[(0,o._)("div",Tt,[Ut,(0,o._)("input",{type:"text",class:"form-control",value:a.destroyModel.client.name,disabled:""},null,8,qt)]),(0,o._)("div",Bt,[Nt,(0,o._)("input",{type:"text",class:"form-control",value:a.destroyModel.client.email,disabled:""},null,8,Wt)])])):(0,o.kq)("",!0),"product"==a.destroyModel.entity?((0,o.wg)(),(0,o.iD)("div",Et,[(0,o._)("div",Yt,[It,(0,o._)("input",{type:"text",class:"form-control",value:a.destroyModel.product.name,disabled:""},null,8,Vt)]),(0,o._)("div",$t,[Ot,(0,o._)("input",{type:"text",class:"form-control",value:a.destroyModel.product.price,disabled:""},null,8,Zt)])])):(0,o.kq)("",!0),"sale"==a.destroyModel.entity?((0,o.wg)(),(0,o.iD)("div",Lt,[(0,o._)("div",At,[Qt,(0,o._)("input",{type:"text",class:"form-control",value:a.destroyModel.sale.id,disabled:""},null,8,Rt)]),(0,o._)("div",Ht,[Kt,(0,o._)("input",{type:"text",class:"form-control",value:a.destroyModel.sale.client.name,disabled:""},null,8,Gt)]),(0,o._)("div",Jt,[Xt,(0,o._)("input",{type:"text",class:"form-control",value:a.destroyModel.sale.product.name,disabled:""},null,8,te)])])):(0,o.kq)("",!0)]),(0,o._)("div",ee,[ae,(0,o._)("button",{onClick:e[0]||(e[0]=t=>"client"==a.destroyModel.entity?r.destroyClient():"product"==a.destroyModel.entity?r.destroyProduct():"sale"==a.destroyModel.entity?r.destroySale():""),type:"button",class:"btn btn-danger"},"Destroy")])])])])])}var oe={setup(){const t=(0,w.pm)();return{toast:t}},props:["destroyModel"],methods:{destroyClient(){Z["delete"]("/clients/"+this.destroyModel.client.id).then((()=>{this.toast.success("Client destroyed!"),setTimeout((()=>this.$router.go()),1e3)})).catch((()=>{this.toast.error("Failed to destroy client!")}))},destroyProduct(){Z["delete"]("/products/"+this.destroyModel.product.id).then((()=>{this.toast.success("Product destroyed!"),setTimeout((()=>this.$router.go()),1e3)})).catch((()=>{this.toast.error("Failed to destroy product!")}))},destroySale(){Z["delete"]("/sales/"+this.destroyModel.sale.id).then((()=>{this.toast.success("Sale destroyed!"),setTimeout((()=>this.$router.go()),1e3)})).catch((()=>{this.toast.error("Failed to destroy sale!")}))}}};const le=(0,b.Z)(oe,[["render",se]]);var re=le,ne={name:"ClientIndex",data(){return{clients:[],clientForm:{modalTitle:"",client:"",operation:""},destroyClient:{modalTitle:"",client:"",entity:""}}},methods:{setClientForm(t,e,a){this.clientForm.modalTitle=t,this.clientForm.client=e,this.clientForm.operation=a},setDestroyClient(t,e,a){this.destroyClient.modalTitle=t,this.destroyClient.client=e,this.destroyClient.entity=a},moment(t){return A()(t).isValid()?A()(t).format("DD/MM/YYYY"):""}},mounted(){Z.get("/clients").then((t=>{this.clients=t.data})).catch((t=>{this.errorMessage=t.message,console.log(`There was an error when tryed to get clients! ${errorMessage}`)}))},components:{"client-form":jt,"destroy-modal":re}};const ie=(0,b.Z)(ne,[["render",V]]);var de=ie;const ce=(0,o._)("h1",{class:"text-center mb-3 mt-3 strong"},"Products",-1),ue={class:"row"},pe={class:"col-md-10 offset-md-1"},me={class:"table table-striped table-hover table-bordered"},he=(0,o._)("thead",null,[(0,o._)("tr",{class:"text-center"},[(0,o._)("th",{class:"col-md-1"},"ID"),(0,o._)("th",{class:"col-md-2"},"Name"),(0,o._)("th",{class:"col-md-6"},"Description"),(0,o._)("th",{class:"col-md-1"},"Price"),(0,o._)("th",{colspan:"3",class:"col-md-2"},"Action")])],-1),be={class:"text-center"},ve=["onClick"],ge=["onClick"],_e=["onClick"];function ye(t,e,a,s,l,r){const n=(0,o.up)("router-link"),i=(0,o.up)("product-form"),d=(0,o.up)("destroy-modal");return(0,o.wg)(),(0,o.iD)("div",null,[ce,(0,o._)("div",ue,[(0,o._)("div",pe,[(0,o._)("table",me,[he,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.products,(t=>((0,o.wg)(),(0,o.iD)("tr",{key:t.id,class:"text-center align-middle"},[(0,o._)("td",null,(0,z.zw)(t.id),1),(0,o._)("td",null,(0,z.zw)(t.name),1),(0,o._)("td",null,(0,z.zw)(t.description),1),(0,o._)("td",null,(0,z.zw)(t.price),1),(0,o._)("td",be,[(0,o._)("button",{class:"btn btn-info me-2",onClick:e=>r.setProductForm("Product",t,"show"),"data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"},"Show",8,ve),(0,o._)("button",{class:"btn btn-warning me-2",onClick:e=>r.setProductForm("Edit Product",t,"edit"),"data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"},"Edit",8,ge),(0,o._)("button",{class:"btn btn-danger",onClick:e=>r.setDestroyProduct("Destroy Product?",t,"product"),"data-bs-toggle":"modal","data-bs-target":"#destroyModal"},"Destroy",8,_e)])])))),128))])]),(0,o._)("button",{class:"btn btn-success me-2 float-end",onClick:e[0]||(e[0]=t=>r.setProductForm("New Product","","create")),"data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"},"New Product"),(0,o.Wm)(n,{to:"/",class:"btn btn-secondary float-start"},{default:(0,o.w5)((()=>[(0,o.Uk)("Back")])),_:1})])]),(0,o.Wm)(i,{productForm:l.productForm},null,8,["productForm"]),(0,o.Wm)(d,{destroyModel:l.destroyProduct},null,8,["destroyModel"])])}const fe={class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},we={class:"modal-dialog modal-xl"},ke={class:"modal-content"},je={class:"modal-header text-center"},xe={class:"modal-title fs-5 text-center",id:"staticBackdropLabel"},Ce=(0,o._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Fe={class:"modal-body"},Se={key:0,class:"input-group mb-2"},De=(0,o._)("span",{class:"input-group-text fw-bold"},"ID",-1),Pe=["value"],Me={class:"input-group mb-2"},ze=(0,o._)("span",{class:"input-group-text"},"Name",-1),Te=["value"],Ue={class:"input-group mb-2"},qe=(0,o._)("span",{class:"input-group-text"},"Description",-1),Be=["value"],Ne={class:"input-group mb-2"},We=(0,o._)("span",{class:"input-group-text"},"Price",-1),Ee=["value"],Ye={key:1,class:"input-group mb-2"},Ie=(0,o._)("span",{class:"input-group-text"},"Created at",-1),Ve=["value"],$e={key:2,class:"input-group mb-3"},Oe=(0,o._)("span",{class:"input-group-text"},"Updated at",-1),Ze=["value"],Le={class:"modal-footer"},Ae=(0,o._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1);function Qe(t,e,a,l,r,n){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",fe,[(0,o._)("div",we,[(0,o._)("div",ke,[(0,o._)("div",je,[(0,o._)("h1",xe,(0,z.zw)(a.productForm.modalTitle),1),Ce]),(0,o._)("div",Fe,["show"==a.productForm.operation?((0,o.wg)(),(0,o.iD)("div",Se,[De,(0,o._)("input",{type:"text",class:"form-control",value:a.productForm.product.id,disabled:""},null,8,Pe)])):(0,o.kq)("",!0),(0,o._)("div",Me,[ze,"show"==a.productForm.operation?((0,o.wg)(),(0,o.iD)("input",{key:0,type:"text",class:"form-control",value:a.productForm.product.name,disabled:""},null,8,Te)):(0,o.kq)("",!0),"edit"==a.productForm.operation||"create"==a.productForm.operation?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:1,type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>r.name=t)},null,512)),[[s.nr,r.name]]):(0,o.kq)("",!0)]),(0,o._)("div",Ue,[qe,"show"==a.productForm.operation?((0,o.wg)(),(0,o.iD)("input",{key:0,type:"text",class:"form-control",value:a.productForm.product.description,disabled:""},null,8,Be)):(0,o.kq)("",!0),"edit"==a.productForm.operation||"create"==a.productForm.operation?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:1,type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=t=>r.description=t)},null,512)),[[s.nr,r.description]]):(0,o.kq)("",!0)]),(0,o._)("div",Ne,[We,"show"==a.productForm.operation?((0,o.wg)(),(0,o.iD)("input",{key:0,type:"number",class:"form-control",value:a.productForm.product.price,disabled:""},null,8,Ee)):(0,o.kq)("",!0),"edit"==a.productForm.operation||"create"==a.productForm.operation?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:1,type:"number",class:"form-control",step:".01","onUpdate:modelValue":e[2]||(e[2]=t=>r.price=t)},null,512)),[[s.nr,r.price]]):(0,o.kq)("",!0)]),"show"==a.productForm.operation?((0,o.wg)(),(0,o.iD)("div",Ye,[Ie,(0,o._)("input",{type:"text",class:"form-control",value:n.momentComplex(a.productForm.product.created_at),disabled:""},null,8,Ve)])):(0,o.kq)("",!0),"show"==a.productForm.operation?((0,o.wg)(),(0,o.iD)("div",$e,[Oe,(0,o._)("input",{type:"text",class:"form-control",value:n.momentComplex(a.productForm.product.updated_at),disabled:""},null,8,Ze)])):(0,o.kq)("",!0)]),(0,o._)("div",Le,[Ae,"edit"==a.productForm.operation||"create"==a.productForm.operation?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",class:"btn btn-success",onClick:e[3]||(e[3]=t=>"edit"==a.productForm.operation?n.updateProduct():"create"==a.productForm.operation?n.postProduct():"")},(0,z.zw)("edit"==a.productForm.operation?"Update":"create"==a.productForm.operation?"Create":""),1)):(0,o.kq)("",!0)])])])])])}var Re={setup(){const t=(0,w.pm)();return{toast:t}},data(){return{name:"",description:"",price:""}},props:["productForm"],watch:{productForm:{deep:!0,handler:function(t){this.name=t.product.name,this.description=t.product.description,this.price=t.product.price}}},methods:{postProduct(){if(!this.validateProductName()||!this.validateProductDescription()||!this.validateProductPrice())return this.toast.error("Check product fields values and try again!"),!1;const t={name:this.name,description:this.description,price:this.price};Z.post("/products",t).then((()=>{this.toast.success("Product created!"),setTimeout((()=>this.$router.go()),1e3)})).catch((()=>{this.toast.error("There was an error when tryed to create the product!")}))},updateProduct(){if(!this.validateProductName()||!this.validateProductDescription()||!this.validateProductPrice())return this.toast.error("Check product fields values and try again!"),!1;const t={name:this.name,description:this.description,price:this.price};Z.put("/products/"+this.productForm.product.id,t).then((()=>{this.toast.success("Product updated!"),setTimeout((()=>this.$router.go()),1e3)})).catch((()=>{this.toast.error("There was an error when tryed to update the product!")}))},validateProductName(){return void 0==this.name||""==this.name?(this.toast.warning("Product name can't be empty!"),!1):!(this.name.length<=1)||(this.toast.warning("Product name can't be less or equal to 1 character!"),!1)},validateProductDescription(){if(void 0!=this.description&&""!=this.description)try{if(this.description.length<=1)return this.toast.warning("If product has description then can't be less or equal to 1 character!"),!1}catch(t){return this.toast.warning("Invalid product price"),!1}return!0},validateProductPrice(){return void 0==this.price||""==this.price?(this.toast.warning("Product price can't be empty or less then 0!"),!1):!(parseFloat(this.price)<=0)||(this.toast.warning("Product price must be greater then 0,00"),!1)},momentComplex(t){return A()(t).format("DD/MM/YYYY hh:mm:ss a")}}};const He=(0,b.Z)(Re,[["render",Qe]]);var Ke=He,Ge={name:"ProductIndex",data(){return{products:[],productForm:{modalTitle:"",product:"",operation:""},destroyProduct:{modalTitle:"",product:"",entity:""}}},methods:{setProductForm(t,e,a){this.productForm.modalTitle=t,this.productForm.product=e,this.productForm.operation=a},setDestroyProduct(t,e,a){this.destroyProduct.modalTitle=t,this.destroyProduct.product=e,this.destroyProduct.entity=a}},mounted(){Z.get("/products").then((t=>{this.products=t.data})).catch((t=>{this.errorMessage=t.message,console.log(`There was an error when tryed to get products! ${errorMessage}`)}))},components:{"product-form":Ke,"destroy-modal":re}};const Je=(0,b.Z)(Ge,[["render",ye]]);var Xe=Je;const ta=(0,o._)("h1",{class:"text-center mb-3 mt-3 strong"},"Sales",-1),ea={class:"row"},aa={class:"col-md-10 offset-md-1"},sa={class:"table table-striped table-hover table-bordered"},oa=(0,o._)("thead",null,[(0,o._)("tr",{class:"text-center"},[(0,o._)("th",{class:"col-md-1"},"ID"),(0,o._)("th",{class:"col-md-2"},"Client"),(0,o._)("th",{class:"col-md-3"},"Email"),(0,o._)("th",{class:"col-md-3"},"Product"),(0,o._)("th",{class:"col-md-1"},"Price"),(0,o._)("th",{colspan:"3",class:"col-md-2"},"Action")])],-1),la={class:"text-center"},ra=["onClick"],na=["onClick"],ia=["onClick"],da=(0,o._)("button",{class:"btn btn-success me-2 float-end","data-bs-toggle":"modal","data-bs-target":"#saleNewForm"},"New Sale",-1);function ca(t,e,a,s,l,r){const n=(0,o.up)("router-link"),i=(0,o.up)("sale-form"),d=(0,o.up)("sale-new-form"),c=(0,o.up)("sale-edit-form"),u=(0,o.up)("destroy-modal");return(0,o.wg)(),(0,o.iD)("div",null,[ta,(0,o._)("div",ea,[(0,o._)("div",aa,[(0,o._)("table",sa,[oa,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.sales,(t=>((0,o.wg)(),(0,o.iD)("tr",{key:t.id,class:"text-center align-middle"},[(0,o._)("td",null,(0,z.zw)(t.id),1),(0,o._)("td",null,(0,z.zw)(t.client.name),1),(0,o._)("td",null,(0,z.zw)(t.client.email),1),(0,o._)("td",null,(0,z.zw)(t.product.name),1),(0,o._)("td",null,(0,z.zw)(t.product.price),1),(0,o._)("td",la,[(0,o._)("button",{class:"btn btn-info me-2",onClick:e=>r.setSaleForm("Sale",t,"show"),"data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"},"Show",8,ra),(0,o._)("button",{class:"btn btn-warning me-2",onClick:e=>r.setSaleForm("Sale",t,"edit"),"data-bs-toggle":"modal","data-bs-target":"#saleEditForm"},"Edit",8,na),(0,o._)("button",{class:"btn btn-danger",onClick:e=>r.setDestroySale("Destroy Sale?",t,"sale"),"data-bs-toggle":"modal","data-bs-target":"#destroyModal"},"Destroy",8,ia)])])))),128))])]),da,(0,o.Wm)(n,{to:"/",class:"btn btn-secondary float-start"},{default:(0,o.w5)((()=>[(0,o.Uk)("Back")])),_:1})])]),(0,o.Wm)(i,{saleForm:l.saleForm},null,8,["saleForm"]),(0,o.Wm)(d),(0,o.Wm)(c,{saleForm:l.saleForm},null,8,["saleForm"]),(0,o.Wm)(u,{destroyModel:l.destroySale},null,8,["destroyModel"])])}const ua={class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},pa={class:"modal-dialog modal-xl"},ma={class:"modal-content"},ha={class:"modal-header text-center"},ba={class:"modal-title fs-5 text-center",id:"staticBackdropLabel"},va=(0,o._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ga={class:"modal-body"},_a={class:"input-group mb-2"},ya=(0,o._)("span",{class:"input-group-text fw-bold"},"Sale ID",-1),fa=["value"],wa={class:"input-group mb-2"},ka=(0,o._)("span",{class:"input-group-text fw-bold"},"Client ID",-1),ja=["value"],xa={class:"input-group mb-2"},Ca=(0,o._)("span",{class:"input-group-text"},"Client name",-1),Fa=["value"],Sa={class:"input-group mb-2"},Da=(0,o._)("span",{class:"input-group-text"},"Client email",-1),Pa=["value"],Ma={class:"input-group mb-2"},za=(0,o._)("span",{class:"input-group-text fw-bold"},"Product ID",-1),Ta=["value"],Ua={class:"input-group mb-2"},qa=(0,o._)("span",{class:"input-group-text"},"Product name",-1),Ba=["value"],Na={class:"input-group mb-2"},Wa=(0,o._)("span",{class:"input-group-text"},"Product price",-1),Ea=["value"],Ya={class:"input-group mb-2"},Ia=(0,o._)("span",{class:"input-group-text"},"Created at",-1),Va=["value"],$a={class:"input-group mb-2"},Oa=(0,o._)("span",{class:"input-group-text"},"Updated at",-1),Za=["value"],La=(0,o._)("div",{class:"modal-footer"},[(0,o._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1);function Aa(t,e,a,s,l,r){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",ua,[(0,o._)("div",pa,[(0,o._)("div",ma,[(0,o._)("div",ha,[(0,o._)("h1",ba,(0,z.zw)(a.saleForm.modalTitle),1),va]),(0,o._)("div",ga,[(0,o._)("div",_a,[ya,(0,o._)("input",{type:"text",class:"form-control",value:a.saleForm.sale.id,disabled:""},null,8,fa)]),(0,o._)("div",wa,[ka,(0,o._)("input",{type:"text",class:"form-control",value:l.client.id,disabled:""},null,8,ja)]),(0,o._)("div",xa,[Ca,(0,o._)("input",{type:"text",class:"form-control",value:l.client.name,disabled:""},null,8,Fa)]),(0,o._)("div",Sa,[Da,(0,o._)("input",{type:"text",class:"form-control",value:l.client.email,disabled:""},null,8,Pa)]),(0,o._)("div",Ma,[za,(0,o._)("input",{type:"text",class:"form-control",value:l.product.id,disabled:""},null,8,Ta)]),(0,o._)("div",Ua,[qa,(0,o._)("input",{type:"text",class:"form-control",value:l.product.name,disabled:""},null,8,Ba)]),(0,o._)("div",Na,[Wa,(0,o._)("input",{type:"text",class:"form-control",value:l.product.price,disabled:""},null,8,Ea)]),(0,o._)("div",Ya,[Ia,(0,o._)("input",{type:"text",class:"form-control",value:r.momentComplex(a.saleForm.sale.created_at),disabled:""},null,8,Va)]),(0,o._)("div",$a,[Oa,(0,o._)("input",{type:"text",class:"form-control",value:r.momentComplex(a.saleForm.sale.updated_at),disabled:""},null,8,Za)]),La])])])])])}var Qa={data(){return{client:"",product:""}},props:["saleForm"],watch:{saleForm:{deep:!0,handler:function(t){this.client=t.sale.client,this.product=t.sale.product}}},methods:{momentComplex(t){return A()(t).format("DD/MM/YYYY hh:mm:ss a")}}};const Ra=(0,b.Z)(Qa,[["render",Aa]]);var Ha=Ra;const Ka={class:"modal fade",id:"saleNewForm",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Ga={class:"modal-dialog modal-fullscreen"},Ja={class:"modal-content"},Xa=(0,o._)("div",{class:"modal-header"},[(0,o._)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"New Sale"),(0,o._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ts={class:"modal-body"},es={class:"col-md-10 offset-md-1"},as=(0,o._)("div",{class:"mt-3"},null,-1),ss=(0,o._)("hr",null,null,-1),os={class:"modal-footer"},ls=(0,o._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1);function rs(t,e,a,s,l,r){const n=(0,o.up)("v-select");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",Ka,[(0,o._)("div",Ga,[(0,o._)("div",Ja,[Xa,(0,o._)("div",ts,[(0,o._)("div",es,[(0,o.Wm)(n,{options:l.clients,label:"name",placeholder:"Client",modelValue:l.newSale.client,"onUpdate:modelValue":e[0]||(e[0]=t=>l.newSale.client=t)},{option:(0,o.w5)((t=>[(0,o.Uk)((0,z.zw)(t.id+" | "+t.name+" | "+t.email),1)])),_:1},8,["options","modelValue"]),(0,o.Uk)(" "+(0,z.zw)(l.newSale.client)+" ",1),as,ss,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.productQuantity,(t=>((0,o.wg)(),(0,o.j4)(n,{key:t,options:l.products,label:"name",class:"mb-3",placeholder:"Product",modelValue:l.newSale.products[t-1],"onUpdate:modelValue":e=>l.newSale.products[t-1]=e},{option:(0,o.w5)((t=>[(0,o.Uk)((0,z.zw)(t.id+" | "+t.name+" | R$ "+t.price),1)])),_:2},1032,["options","modelValue","onUpdate:modelValue"])))),128)),(0,o.Uk)(" "+(0,z.zw)(l.newSale.products)+" ",1),(0,o._)("button",{class:"btn btn-danger float-end ms-2",onClick:e[1]||(e[1]=t=>r.removeProduct())},"Remove"),(0,o._)("button",{class:"btn btn-success float-end",onClick:e[2]||(e[2]=t=>r.addProduct())},"Add")])]),(0,o._)("div",os,[ls,(0,o._)("button",{onClick:e[3]||(e[3]=t=>r.postSale()),type:"button",class:"btn btn-success"},"Create")])])])])])}var ns=a(3636),is={setup(){const t=(0,w.pm)();return{toast:t}},data(){return{clients:"",products:"",productQuantity:1,newSale:{client:"",products:[]},preparedSale:{client_id:"",products_id:[]},sale:{client_id:"",product_id:""}}},mounted(){Z.get("/clients").then((t=>{this.clients=t.data})).catch((t=>{this.errorMessage=t.message,console.log(`There was an error when tryed to get clients! ${errorMessage}`)})),Z.get("/products").then((t=>{this.products=t.data})).catch((t=>{this.errorMessage=t.message,console.log(`There was an error when tryed to get products! ${errorMessage}`)}))},components:{"v-select":ns.Z},methods:{postSale(){if(void 0==this.prepareSale()||null==this.prepareSale())return void this.toast.error("Check sale fields and try again!");const t=this.prepareSale();t.products_id.forEach(((t,e)=>{this.sale.client_id=this.prepareSale().client_id,this.sale.product_id=t,Z.post("/sales",this.sale).then((()=>{this.toast.info(`Registred product | Product: ${this.newSale.products[e].name}`)})).catch((()=>{this.toast.error(`Error when try to create sale | Fail product: ${this.newSale.products[e].name}`)}))})),setTimeout((()=>{this.$router.go()}),2e3)},prepareSale(){try{this.preparedSale.client_id=this.newSale.client.id}catch(t){return this.preparedSale.client_id=-1,void this.toast.warning("This client doesn't exist!")}void 0==this.preparedSale.client_id&&(this.preparedSale.client_id=-1);try{this.preparedSale.products_id=this.newSale.products.map((t=>t.id))}catch(t){return this.preparedSale.products_id=0,void this.toast.warning("This product doesn't exist!")}if(!(this.preparedSale.products_id.length<=0))return this.preparedSale},addProduct(){this.productQuantity>=10||null!=this.newSale.products[this.newSale.products.length-1]&&(this.productQuantity++,this.newSale.products[this.newSale.products.length]=null)},removeProduct(){this.productQuantity<=1?this.productQuantity=1:(this.productQuantity--,this.newSale.products.pop())}}};const ds=(0,b.Z)(is,[["render",rs]]);var cs=ds;const us={class:"modal fade",id:"saleEditForm",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},ps={class:"modal-dialog modal-fullscreen"},ms={class:"modal-content"},hs=(0,o._)("div",{class:"modal-header"},[(0,o._)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Edit Sale"),(0,o._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),bs={class:"modal-body"},vs={class:"col-md-10 offset-md-1"},gs=(0,o._)("div",{class:"mt-3"},null,-1),_s=(0,o._)("hr",null,null,-1),ys={class:"modal-footer"},fs=(0,o._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1);function ws(t,e,a,s,l,r){const n=(0,o.up)("v-select");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",us,[(0,o._)("div",ps,[(0,o._)("div",ms,[hs,(0,o._)("div",bs,[(0,o._)("div",vs,[(0,o.Wm)(n,{options:l.clients,label:"name",placeholder:"Client",modelValue:l.preparedSale.client,"onUpdate:modelValue":e[0]||(e[0]=t=>l.preparedSale.client=t)},{option:(0,o.w5)((t=>[(0,o.Uk)((0,z.zw)(t.id+" | "+t.name+" | "+t.email),1)])),_:1},8,["options","modelValue"]),gs,_s,(0,o.Wm)(n,{options:l.products,label:"name",class:"mb-3",placeholder:"Product",modelValue:l.preparedSale.product,"onUpdate:modelValue":e[1]||(e[1]=t=>l.preparedSale.product=t)},{option:(0,o.w5)((t=>[(0,o.Uk)((0,z.zw)(t.id+" | "+t.name+" | R$ "+t.price),1)])),_:1},8,["options","modelValue"])])]),(0,o._)("div",ys,[fs,(0,o._)("button",{onClick:e[2]||(e[2]=t=>r.putSale()),type:"button",class:"btn btn-success"},"Update")])])])])])}var ks={setup(){const t=(0,w.pm)();return{toast:t}},props:["saleForm"],watch:{saleForm:{deep:!0,handler:function(t){this.preparedSale.client=t.sale.client,this.preparedSale.product=t.sale.product}}},data(){return{clients:"",products:"",preparedSale:{client:"",product:""},sale:{client_id:"",product_id:""}}},mounted(){Z.get("/clients").then((t=>{this.clients=t.data})).catch((t=>{this.errorMessage=t.message,console.log("There was an error when tryed to get clients!",t)})),Z.get("/products").then((t=>{this.products=t.data})).catch((t=>{this.errorMessage=t.message,console.log("There was an error when tryed to get products!",t)}))},components:{"v-select":ns.Z},methods:{putSale(){void 0!=this.prepareSale()&&null!=this.prepareSale()?Z.put("/sales/"+this.saleForm.sale.id,this.sale).then((t=>{this.toast.success("Sale updated!"),setTimeout((()=>{this.$router.go()}),1500)})).catch((t=>{this.toast.error("Error when try to update sale ",t)})):this.toast.error("Check sale fields and try again!")},prepareSale(){try{this.sale.client_id=this.preparedSale.client.id}catch(t){return this.sale.client_id=-1,void this.toast.warning("This client doesn't exist!")}try{this.sale.product_id=this.preparedSale.product.id}catch(t){return this.sale.product_id=-1,void this.toast.warning("This product doesn't exist!")}return this.sale}}};const js=(0,b.Z)(ks,[["render",ws]]);var xs=js,Cs={name:"SaleIndex",data(){return{sales:[],saleForm:{modalTitle:"",sale:"",operation:""},destroySale:{modalTitle:"",sale:"",entity:""}}},methods:{setSaleForm(t,e,a){this.saleForm.modalTitle=t,this.saleForm.sale=e,this.saleForm.operation=a},setDestroySale(t,e,a){this.destroySale.modalTitle=t,this.destroySale.sale=e,this.destroySale.entity=a}},mounted(){Z.get("/sales").then((t=>{this.sales=t.data})).catch((t=>{this.errorMessage=t.message,console.log(`There was an error when tryed to get sales! ${errorMessage}`)}))},components:{"sale-form":Ha,"sale-new-form":cs,"sale-edit-form":xs,"destroy-modal":re}};const Fs=(0,b.Z)(Cs,[["render",ca]]);var Ss=Fs;const Ds=[{path:"/",name:"WelcomeIndex",component:M,meta:{title:"Home"}},{path:"/clients",name:"ClientIndex",component:de,meta:{title:"Clients"}},{path:"/products",name:"ProductIndex",component:Xe,meta:{title:"Products"}},{path:"/sales",name:"SaleIndex",component:Ss,meta:{title:"Sales"}}],Ps=(0,k.p7)({history:(0,k.r5)(),routes:Ds});Ps.beforeEach(((t,e,a)=>{document.title=`${t.meta.title}`,a()}));var Ms=Ps;const zs={transition:"Vue-Toastification__fade"};(0,s.ri)(f).use(w.ZP,zs).use(Ms).mount("#app")}},e={};function a(s){var o=e[s];if(void 0!==o)return o.exports;var l=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(l.exports,l,l.exports,a),l.loaded=!0,l.exports}a.m=t,function(){var t=[];a.O=function(e,s,o,l){if(!s){var r=1/0;for(c=0;c<t.length;c++){s=t[c][0],o=t[c][1],l=t[c][2];for(var n=!0,i=0;i<s.length;i++)(!1&l||r>=l)&&Object.keys(a.O).every((function(t){return a.O[t](s[i])}))?s.splice(i--,1):(n=!1,l<r&&(r=l));if(n){t.splice(c--,1);var d=o();void 0!==d&&(e=d)}}return e}l=l||0;for(var c=t.length;c>0&&t[c-1][2]>l;c--)t[c]=t[c-1];t[c]=[s,o,l]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,l,r=s[0],n=s[1],i=s[2],d=0;if(r.some((function(e){return 0!==t[e]}))){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(i)var c=i(a)}for(e&&e(s);d<r.length;d++)l=r[d],a.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return a.O(c)},s=self["webpackChunkcilia_pa_front"]=self["webpackChunkcilia_pa_front"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(4999)}));s=a.O(s)})();
//# sourceMappingURL=app.6043d226.js.map